{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/dereklaurel/hackernews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dereklaurel/hackernews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/dereklaurel/hackernews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/dereklaurel/hackernews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/dereklaurel/hackernews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./SearchBar.css';import{connect}from'react-redux';var SearchBar=/*#__PURE__*/function(_React$Component){_inherits(SearchBar,_React$Component);var _super=_createSuper(SearchBar);function SearchBar(props){var _this;_classCallCheck(this,SearchBar);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.state={searchResults:[]};return _this;}_createClass(SearchBar,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();var term=this.props.inputValue;fetch(\"https://hn.algolia.com/api/v1/search?query=\".concat(term),{method:'GET'}).then(function(res){return res.json();}).then(function(data){return _this2.setState({searchResults:data.hits});});}},{key:\"render\",value:function render(){var searchedResults=this.state.searchResults.map(function(result,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"author\",children:result.author}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:result.title}),/*#__PURE__*/_jsx(\"span\",{className:\"url\",children:result.url})]},i);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:this.props.inputValue,onChange:this.props.inputChange,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"search\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Results\"}),/*#__PURE__*/_jsx(\"div\",{children:searchedResults})]});}}]);return SearchBar;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{inputValue:state.inputValue};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{inputChange:function inputChange(e){var action={type:'INPUT_CHANGE',text:e.target.value};dispatch(action);}};};export default connect(mapStateToProps,mapDispatchToProps)(SearchBar);","map":{"version":3,"sources":["/Users/dereklaurel/hackernews/src/components/SearchBar/SearchBar.js"],"names":["React","connect","SearchBar","props","handleSubmit","bind","state","searchResults","e","preventDefault","term","inputValue","fetch","method","then","res","json","data","setState","hits","searchedResults","map","result","i","author","title","url","inputChange","Component","mapStateToProps","mapDispatchToProps","dispatch","action","type","text","target","value"],"mappings":"i3BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CACA,OAASC,OAAT,KAAwB,aAAxB,C,GAEMC,CAAAA,S,kHACF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,KAAL,CAAa,CACTC,aAAa,CAAE,EADN,CAAb,CAHe,aAMlB,C,wEACYC,C,CAAG,iBACZA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,IAAI,CAAG,KAAKP,KAAL,CAAWQ,UAAtB,CACAC,KAAK,sDAA+CF,IAA/C,EAAuD,CAAEG,MAAM,CAAE,KAAV,CAAvD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEX,aAAa,CAAEU,IAAI,CAACE,IAAtB,CAAd,CAAJ,EAFd,EAGH,C,uCAEQ,CACL,GAAMC,CAAAA,eAAe,CAAG,KAAKd,KAAL,CAAWC,aAAX,CAAyBc,GAAzB,CAA6B,SAACC,MAAD,CAASC,CAAT,CAAe,CAChE,mBAAO,oCAAa,aAAM,SAAS,CAAC,QAAhB,UAA0BD,MAAM,CAACE,MAAjC,EAAb,cACH,UAAG,SAAS,CAAC,OAAb,UAAsBF,MAAM,CAACG,KAA7B,EADG,cAEH,aAAM,SAAS,CAAC,KAAhB,UAAuBH,MAAM,CAACI,GAA9B,EAFG,GAAUH,CAAV,CAAP,CAGH,CAJuB,CAAxB,CAKA,mBAAO,wCACH,YAAK,SAAS,CAAC,MAAf,uBACI,cAAM,QAAQ,CAAE,KAAKnB,YAArB,wBACI,cAAO,KAAK,CAAE,KAAKD,KAAL,CAAWQ,UAAzB,CAAqC,QAAQ,CAAE,KAAKR,KAAL,CAAWwB,WAA1D,CAAuE,IAAI,CAAC,MAA5E,EADJ,cAEI,eAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,oBAFJ,GADJ,EADG,cAOH,+BAPG,cAQH,qBAAMP,eAAN,EARG,GAAP,CAUH,C,uBAhCmBpB,KAAK,CAAC4B,S,EAmC9B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAvB,KAAK,CAAI,CAC7B,MAAO,CACHK,UAAU,CAAEL,KAAK,CAACK,UADf,CAAP,CAGH,CAJD,CAMA,GAAMmB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC,MAAO,CACHJ,WAAW,CAAE,qBAACnB,CAAD,CAAO,CAChB,GAAMwB,CAAAA,MAAM,CAAG,CAAEC,IAAI,CAAE,cAAR,CAAwBC,IAAI,CAAE1B,CAAC,CAAC2B,MAAF,CAASC,KAAvC,CAAf,CACAL,QAAQ,CAACC,MAAD,CAAR,CACH,CAJE,CAAP,CAMH,CAPD,CASA,cAAe/B,CAAAA,OAAO,CAAC4B,eAAD,CAAkBC,kBAAlB,CAAP,CAA6C5B,SAA7C,CAAf","sourcesContent":["import React from 'react';\nimport './SearchBar.css'\nimport { connect } from 'react-redux';\n\nclass SearchBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = {\n            searchResults: []\n        }\n    }\n    handleSubmit(e) {\n        e.preventDefault();\n        let term = this.props.inputValue;\n        fetch(`https://hn.algolia.com/api/v1/search?query=${term}`, { method: 'GET' })\n            .then(res => res.json())\n            .then(data => this.setState({ searchResults: data.hits }));\n    }\n\n    render() {\n        const searchedResults = this.state.searchResults.map((result, i) => {\n            return <div key={i}><span className=\"author\">{result.author}</span>\n                <p className=\"title\">{result.title}</p>\n                <span className=\"url\">{result.url}</span></div>\n        })\n        return <>\n            <div className=\"form\">\n                <form onSubmit={this.handleSubmit}>\n                    <input value={this.props.inputValue} onChange={this.props.inputChange} type=\"text\"></input>\n                    <button className=\"button\" type=\"submit\">search</button>\n                </form>\n            </div>\n            <h1>Results</h1>\n            <div>{searchedResults}</div>\n        </>\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        inputValue: state.inputValue\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        inputChange: (e) => {\n            const action = { type: 'INPUT_CHANGE', text: e.target.value };\n            dispatch(action);\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);"]},"metadata":{},"sourceType":"module"}